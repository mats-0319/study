# 测试结果

## 测试跨合约调用消耗gas情况

测试代码："../contract/invoke_cross_contract/*.sol"

测试思路：同样的代码逻辑，一个函数调用另外一个合约的函数，一个函数调用当前合约内的函数

测试链：[ropsten测试链](https://ropsten.etherscan.io)

测试参数：

1. 测试合约地址：0xDF8E1042303f9815d40a666A5D78d81CaC6462DD
2. 跨合约调用交易：
    1. hash：0x374c136e0d9110eb4d4e9845daaaba995c667bbb02e632b647f203923ec68ad8
    2. gas price: 0.000000001500000008
    3. tx fee:    0.000120702000643744
    4. gas used(tx fee / gas price): 80468
3. 合约内调用交易
    1. hash：0xe3a9330c8b89d4addf35852bb86dd52757e4215c3682af15ebbc64c4cc102aab
    2. gas price: 0.000000001500000009
    3. tx fee:    0.000102178500613071
    4. gas used(tx fee / gas price): 68119
4. result: 118% (80468 / 68119)
5. 约1.2w的gas消耗，其比例会随着函数内执行消耗的gas提高而降低（即，函数内计算越多，跨合约消耗的gas比例就更低）

测试结果：

跨合约调用额外消耗约```12000```gas，```0.0015```eth，约合4.7美元、30元人民币

1. gas price: 2022.1.10-10.08，测试时，主网最新块上的交易的gas price——125 gwei
2. eth价格：同上时间的主网eth价格——3152.15美元
3. 美元与人民币兑换率：同上时间的兑换率——6.37（来自搜索引擎，搜索内容：美元与人民币的兑换率）
