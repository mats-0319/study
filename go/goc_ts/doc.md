# Goc_ts

根据go语言定义的结构，生成http请求对应的ts代码

自用工具，适用性低

命名参考了`protoc_gen_go_grpc`

ts代码：vue3 axios

## 使用

> 参考`goc_ts/sample/manual.md`

注意事项：

1. sample包含**http请求函数定义**以及**请求函数的输入参数和响应参数定义**示例，以及生成的ts代码结构示例
2. 如果你的go部分定义或想要生成的ts代码结构与sample不符，请根据实现部分的介绍或者阅读代码，自行修改

## 实现

使用正则匹配go语言结构定义文件，按照一定格式记录下来。  

根据记录的内容，生成ts代码，包括：

- axios配置初始化(`config.ts`)
- 工具函数(`utils.ts`)
- http请求的数据结构(`xxx.go.ts`)
- 以及http请求函数(`xxx.http.ts`)

## Q&A

1. 为什么想做这样一个工具？
   为了统一定义、管理http请求结构，避免出错。  
   曾考虑过使用protocol buffer来做这个事情，放弃的原因是不想只为了使用它的序列化和反序列化而引入一门新的语言（pb）。
2. 为什么选择根据go代码生成ts代码？
   接上一条，因为不想引入一门新的语言，所以工具要么根据go生成ts、要么根据ts生成go。  
   至于为什么选择了根据go生成ts，主要是个人喜好。
