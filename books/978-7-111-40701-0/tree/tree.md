# tree

## 二叉搜索树(binary search tree)

一般来说，BST更适用于查询场景，插入和删除场景与堆结构更匹配

约定：如果一个BST全部叶子节点的高度差不大于1，我们说这个BST是**高度平衡**的，简称**平衡**的

向BST插入数据，可能破坏BST的平衡结构，极端情况下，BST将变成单链表、查询效率将退化为`O(n)`，所以对BST进行插入或删除操作时，应额外维护其平衡结构

最早被发明的平衡二叉搜索树为AVL树

## AVL树(Adelson-Velsky and Landis Tree)

AVL树是自平衡的二叉搜索树，AVL树通过左旋、右旋操作平衡树的高度

右旋：（左旋是右旋的镜像）

1. 根节点的左子节点成为新的根节点
2. 若新根节点存在右子节点，则将其重新挂载成原根节点的左节点
3. 原根节点成为新根节点的右子节点

平衡规则：

约定：

1. h：节点高度，空节点高度为`-1`，非空节点高度为**其左右子节点高度较大者+1**
2. b：平衡因子，空节点平衡因子为`0`，非空节点平衡因子为**其左子节点高度-右子节点高度**

当**平衡因子的绝对值大于1**时，开始平衡：（以下使用**根节点**表示**最先触发平衡行为的节点**）

1. LL型：因为在根节点(root，简称r)左子节点的左子节点挂载新的元素，导致破坏了原本的平衡结构
    1. 此时`b(r) > 1`且`b(r.l) > 0`
    2. 将根节点右旋一次即可恢复平衡结构
2. RR型：因为在根节点(root，简称r)右子节点的右子节点挂载新的元素，导致破坏了原本的平衡结构
    1. 此时`b(r) < -1`且`b(r.r) < 0`
    2. 将根节点左旋一次即可恢复平衡结构
    3. 与LL型互为镜像结构
3. LR型：因为在根节点(root，简称r)左子节点的右子节点挂载新的元素，导致破坏了原本的平衡结构
    1. 此时`b(r) > 1`且`b(r.l) < 0`
    2. 将根节点的左子节点左旋一次，再将根节点右旋一次即可恢复平衡结构
4. RL型：因为在根节点(root，简称r)右子节点的左子节点挂载新的元素，导致破坏了原本的平衡结构
    1. 此时`b(r) < -1`且`b(r.r) > 0`
    2. 将根节点的右子节点右旋一次，再将根节点左旋一次即可恢复平衡结构
    3. 与LR型互为镜像结构

## 红黑树(red-black tree)

红黑树是一种自平衡二叉查找树

## B树(B-tree), draft

B树是一种自平衡的树，可以在对数时间内完成查找、顺序访问、插入以及删除操作

概括来说，B树是多叉查找树，与自平衡二叉查找树相比，B树适用于读写相对大的数据块的存储系统——例如磁盘，  
可以通过减少定位记录时所经历的中间过程，加快存取速度；常用于实现数据库与文件系统
