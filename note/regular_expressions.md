# 正则表达式

# url

[正则表达式学习](https://regexone.com)  
[正则表达式检测](https://regexr.com)

# 语法

> 基础语法： 部分字符在正则表达式中被赋予了额外的含义（如"."、"*"、"?"等，以下称其为特殊字符），
> 想要匹配字符串中的特殊字符，需要使用转义运算符（"\"）进行转义，如使用"\."可以精准匹配一个"."字符。

- .： 任意字符
- [  ]： 匹配特定**单一**字符 <small>(因为一个方括号只匹配一个字符，所以不需要使用"|"分隔候选项)</small>
    - 常规使用： **[abc]** 表示匹配'a'或'b'或'c'
    - "^"： 除指定字符以外，例如 **[^abc]** 表示匹配'a'、'b'、'c'以外的单一字符，如'd'
    - "-"： 范围，例如 **[A-Za-z0-9]** 表示匹配单一大、小写字母与数字；"-"可以与"^"联合使用
- { }： 重复前一个字符
    - a{m}： 匹配m个a
    - a{m,n}： 匹配m~n个a（包含m、n个的情况）
    - \*： 重复前一个字符任意次（包括0次）， a* <=> a{0,}
    - +： 重复前一个字符任意次（至少1次）, a+ <=> a{1,}
    - ?： 重复前一个字符0次或1次（即前一个字符是可选的）， a? <=> a{0,1}
- \d： 任意数字 （"\D"表示此外的字符）
- \w： 等价于 **[A-Za-z0-9_]** <small>(注意那个下划线)</small> （"\W"表示此外的字符）
- \s： 空白字符（空格、制表符、换行符等）， \s <=> [\f\n\r\t\v ] （"\S"表示此外的字符）
- \b： 单词边界，例如："er\b"可以匹配"nev**er**"，但不能匹配"v**er**b" （"\B"表示非单词边界）
- ^……$： 起止标志
- ( )： 匹配与提取信息，可以嵌套使用
    - (a|b)： a或b
    - (?:pattern)： 匹配但不提取，多用于使用或("|")字符组合模式的场景，例如"abc(?:d|de)" <=> "abcd|abcde"

# go RE doc

> src/regexp/syntax/doc.go

// Copyright 2012 The Go Authors. All rights reserved.
// Use of this source code is governed by a BSD-style
// license that can be found in the LICENSE file.

// DO NOT EDIT. This file is generated by mksyntaxgo from the RE2 distribution.

Package syntax parses regular expressions into parse trees and compiles
parse trees into programs. Most clients of regular expressions will use the
facilities of package regexp (such as Compile and Match) instead of this package.

The regular expression syntax understood by this package when parsing with the Perl flag is as follows.
Parts of the syntax can be disabled by passing alternate flags to Parse.

Single characters:

	.              any character, possibly including newline (flag s=true)
	[xyz]          character class
	[^xyz]         negated character class
	\d             Perl character class
	\D             negated Perl character class
	[[:alpha:]]    ASCII character class
	[[:^alpha:]]   negated ASCII character class
	\pN            Unicode character class (one-letter name)
	\p{Greek}      Unicode character class
	\PN            negated Unicode character class (one-letter name)
	\P{Greek}      negated Unicode character class

Composites:

	xy             x followed by y
	x|y            x or y (prefer x)

Repetitions:

	x*             zero or more x, prefer more
	x+             one or more x, prefer more
	x?             zero or one x, prefer one
	x{n,m}         n or n+1 or ... or m x, prefer more
	x{n,}          n or more x, prefer more
	x{n}           exactly n x
	x*?            zero or more x, prefer fewer
	x+?            one or more x, prefer fewer
	x??            zero or one x, prefer zero
	x{n,m}?        n or n+1 or ... or m x, prefer fewer
	x{n,}?         n or more x, prefer fewer
	x{n}?          exactly n x

Implementation restriction: The counting forms x{n,m}, x{n,}, and x{n}
reject forms that create a minimum or maximum repetition count above 1000.
Unlimited repetitions are not subject to this restriction.

Grouping:

	(re)           numbered capturing group (submatch)
	(?P<name>re)   named & numbered capturing group (submatch)
	(?:re)         non-capturing group
	(?flags)       set flags within current group; non-capturing
	(?flags:re)    set flags during re; non-capturing

	Flag syntax is xyz (set) or -xyz (clear) or xy-z (set xy, clear z). The flags are:

	i              case-insensitive (default false)
	m              multi-line mode: ^ and $ match begin/end line in addition to begin/end text (default false)
	s              let . match \n (default false)
	U              ungreedy: swap meaning of x* and x*?, x+ and x+?, etc (default false)

Empty strings:

	^              at beginning of text or line (flag m=true)
	$              at end of text (like \z not \Z) or line (flag m=true)
	\A             at beginning of text
	\b             at ASCII word boundary (\w on one side and \W, \A, or \z on the other)
	\B             not at ASCII word boundary
	\z             at end of text

Escape sequences:

	\a             bell (== \007)
	\f             form feed (== \014)
	\t             horizontal tab (== \011)
	\n             newline (== \012)
	\r             carriage return (== \015)
	\v             vertical tab character (== \013)
	\*             literal *, for any punctuation character *
	\123           octal character code (up to three digits)
	\x7F           hex character code (exactly two digits)
	\x{10FFFF}     hex character code
	\Q...\E        literal text ... even if ... has punctuation

Character class elements:

	x              single character
	A-Z            character range (inclusive)
	\d             Perl character class
	[:foo:]        ASCII character class foo
	\p{Foo}        Unicode character class Foo
	\pF            Unicode character class F (one-letter name)

Named character classes as character class elements:

	[\d]           digits (== \d)
	[^\d]          not digits (== \D)
	[\D]           not digits (== \D)
	[^\D]          not not digits (== \d)
	[[:name:]]     named ASCII class inside character class (== [:name:])
	[^[:name:]]    named ASCII class inside negated character class (== [:^name:])
	[\p{Name}]     named Unicode property inside character class (== \p{Name})
	[^\p{Name}]    named Unicode property inside negated character class (== \P{Name})

Perl character classes (all ASCII-only):

	\d             digits (== [0-9])
	\D             not digits (== [^0-9])
	\s             whitespace (== [\t\n\f\r ])
	\S             not whitespace (== [^\t\n\f\r ])
	\w             word characters (== [0-9A-Za-z_])
	\W             not word characters (== [^0-9A-Za-z_])

ASCII character classes:

	[[:alnum:]]    alphanumeric (== [0-9A-Za-z])
	[[:alpha:]]    alphabetic (== [A-Za-z])
	[[:ascii:]]    ASCII (== [\x00-\x7F])
	[[:blank:]]    blank (== [\t ])
	[[:cntrl:]]    control (== [\x00-\x1F\x7F])
	[[:digit:]]    digits (== [0-9])
	[[:graph:]]    graphical (== [!-~] == [A-Za-z0-9!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])
	[[:lower:]]    lower case (== [a-z])
	[[:print:]]    printable (== [ -~] == [ [:graph:]])
	[[:punct:]]    punctuation (== [!-/:-@[-`{-~])
	[[:space:]]    whitespace (== [\t\n\v\f\r ])
	[[:upper:]]    upper case (== [A-Z])
	[[:word:]]     word characters (== [0-9A-Za-z_])
	[[:xdigit:]]   hex digit (== [0-9A-Fa-f])

Unicode character classes are those in unicode.Categories and unicode.Scripts.
